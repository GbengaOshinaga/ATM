{"version":3,"sources":["webpack:///webpack/bootstrap b633aa1aaf1ae323ed52","webpack:///./src/BankDatabase.js","webpack:///./main.js","webpack:///./src/ATM.js","webpack:///./src/Account.js","webpack:///./src/Transaction.js"],"names":["BankDatabase","firstAccount","secondAccount","accounts","acNumber","result","i","getAccountNumber","pin","account","undefined","validatePin","accNumber","getBalance","amount","debit","module","exports","authenticate","atm","authenticateUser","balance","withdraw","ATM","_isUserAuthenticated","WeakMap","_currentAccountNumber","set","database","transact","Account","accountNumber","availableBalance","totalBalance","_accountNumber","_pin","_balance","userPin","get","Transaction","type","inquiry","BalanceInquiry","Withdrawal"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;AC7DA;;;;;;;;IAEqBA,Y;AACjB,4BAAa;AAAA;;AACT,YAAIC,eAAe,sBAAY,KAAZ,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,CAAnB;AACA,YAAIC,gBAAgB,sBAAY,KAAZ,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,CAApB;AACA,aAAKC,QAAL,GAAgB,CAACF,YAAD,EAAeC,aAAf,CAAhB;AACH;;;;yCAEgBE,Q,EAAS;AACtB,gBAAIC,eAAJ;AACA,iBAAI,IAAIC,CAAR,IAAa,KAAKH,QAAlB,EAA2B;AACvB,oBAAG,KAAKA,QAAL,CAAcG,CAAd,EAAiBC,gBAAjB,OAAwCH,QAA3C,EAAoD;AAChDC,6BAAS,KAAKF,QAAL,CAAcG,CAAd,CAAT;AACH;AACJ;AACD,mBAAOD,MAAP;AACH;;;yCAEgBD,Q,EAAUI,G,EAAI;AAC3B,gBAAIC,UAAU,KAAKF,gBAAL,CAAsBH,QAAtB,CAAd;;AAEA,gBAAGK,YAAYC,SAAf,EAAyB;AACrB,uBAAOD,QAAQE,WAAR,CAAoBH,GAApB,CAAP;AACH,aAFD,MAEK;AACD,uBAAO,KAAP;AACH;AACJ;;;mCAEUI,S,EAAU;AACjB,gBAAIH,UAAU,KAAKF,gBAAL,CAAsBK,SAAtB,CAAd;;AAEA,gBAAGH,YAAYC,SAAf,EAAyB;AACrB,uBAAOD,QAAQI,UAAR,EAAP;AACH,aAFD,MAEK;AACD,uBAAO,CAAP;AACH;AACJ;;;iCAEQD,S,EAAWE,M,EAAO;AACvB,gBAAIL,UAAU,KAAKF,gBAAL,CAAsBK,SAAtB,CAAd;;AAEA,gBAAGH,YAAYC,SAAf,EAAyB;AACrBD,wBAAQM,KAAR,CAAcD,MAAd;AACA,uBAAOL,QAAQI,UAAR,EAAP;AACH,aAHD,MAGK;AACD,uBAAO,CAAP;AACH;AACJ;;;;;;kBA9CgBb,Y;;;;;;;;;ACFrB;;;;;;AAEAgB,OAAOC,OAAP,GAAiB;AACbC,kBAAc,wBAAI;AACd,YAAIC,MAAM,mBAAV;AACA,eAAOA,IAAIC,gBAAJ,CAAqB,KAArB,EAA4B,IAA5B,CAAP;AACH,KAJY;;AAMbC,aAAS,mBAAI;AACT,YAAIF,MAAM,mBAAV;AACA,eAAOA,IAAIN,UAAJ,CAAe,KAAf,CAAP;AACH,KATY;;AAWbS,cAAU,oBAAI;AACV,YAAIH,MAAM,mBAAV;AACA,eAAOA,IAAIG,QAAJ,CAAa,KAAb,EAAoB,IAApB,CAAP;AACH;AAdY,CAAjB,C;;;;;;;;;;;;;;;ACFA;;;;AACA;;;;;;;;IAEqBC,G;AACjB,mBAAa;AAAA;;AACT,YAAIC,uBAAuB,IAAIC,OAAJ,EAA3B;AACA,YAAIC,wBAAwB,IAAID,OAAJ,EAA5B;;AAEAD,6BAAqBG,GAArB,CAAyB,IAAzB,EAA+B,KAA/B;AACAD,8BAAsBC,GAAtB,CAA0B,IAA1B,EAAgC,CAAhC;AACH;;;;yCAEgBf,S,EAAWJ,G,EAAI;AAC5B,gBAAIoB,WAAW,4BAAf;AACA,mBAAOA,SAASR,gBAAT,CAA0BR,SAA1B,EAAqCJ,GAArC,CAAP;AACH;;;mCAEUI,S,EAAU;AACjB,gBAAIiB,WAAW,0BAAgBjB,SAAhB,EAA2B,CAA3B,EAA8B,CAA9B,CAAf;AACA,mBAAOiB,SAASA,QAAT,EAAP;AACH;;;iCAEQjB,S,EAAWE,M,EAAO;AACvB,gBAAIe,WAAW,0BAAgBjB,SAAhB,EAA2B,CAA3B,EAA8BE,MAA9B,CAAf;AACA,mBAAOe,SAASA,QAAT,EAAP;AACH;;;;;;kBAtBgBN,G;;;;;;;;;;;;;;;;;ICHAO,O;AACjB,qBAAYC,aAAZ,EAA2BvB,GAA3B,EAAgCwB,gBAAhC,EAAkDC,YAAlD,EAA+D;AAAA;;AAC3D,aAAKC,cAAL,GAAsB,IAAIT,OAAJ,EAAtB;AACA,aAAKU,IAAL,GAAY,IAAIV,OAAJ,EAAZ;AACA,aAAKW,QAAL,GAAgB,IAAIX,OAAJ,EAAhB;;AAEA,aAAKS,cAAL,CAAoBP,GAApB,CAAwB,IAAxB,EAA8BI,aAA9B;AACA,aAAKI,IAAL,CAAUR,GAAV,CAAc,IAAd,EAAoBnB,GAApB;AACA,aAAK4B,QAAL,CAAcT,GAAd,CAAkB,IAAlB,EAAwBK,gBAAxB;AACH;;;;oCAEWK,O,EAAQ;AAChB,mBAAOA,YAAY,KAAKF,IAAL,CAAUG,GAAV,CAAc,IAAd,CAAnB;AACH;;;qCAEW;AACR,mBAAO,KAAKF,QAAL,CAAcE,GAAd,CAAkB,IAAlB,CAAP;AACH;;;8BAEKxB,M,EAAO;AACT,gBAAG,KAAKsB,QAAL,GAAgBtB,MAAnB,EAA0B;AACtB,uBAAO,CAAP;AACH,aAFD,MAEK;AACD,qBAAKsB,QAAL,CAAcT,GAAd,CAAkB,IAAlB,EAAwB,KAAKS,QAAL,CAAcE,GAAd,CAAkB,IAAlB,IAA0BxB,MAAlD;AACH;AACJ;;;2CAEiB;AACd,mBAAO,KAAKoB,cAAL,CAAoBI,GAApB,CAAwB,IAAxB,CAAP;AACH;;;;;;kBA7BgBR,O;;;;;;;;;;;;;;;ACArB;;;;;;;;;;;;IAEqBS,W;AACjB,yBAAY3B,SAAZ,EAAuB4B,IAAvB,EAA6B1B,MAA7B,EAAoC;AAAA;;AAChC,aAAKF,SAAL,GAAiBA,SAAjB;AACA,aAAK4B,IAAL,GAAYA,IAAZ;AACA,aAAK1B,MAAL,GAAcA,MAAd;AACH;;;;mCAES;AACN,oBAAO,KAAK0B,IAAZ;AACI,qBAAK,CAAL;AACI,wBAAIC,UAAU,IAAIC,cAAJ,CAAmB,KAAK9B,SAAxB,CAAd;AACA,2BAAO6B,QAAQZ,QAAR,EAAP;AACA;AACJ,qBAAK,CAAL;AACI,wBAAIP,WAAW,IAAIqB,UAAJ,CAAe,KAAK/B,SAApB,EAA+B,KAAKE,MAApC,CAAf;AACA,2BAAOQ,SAASO,QAAT,EAAP;AACA;AACJ;AACI,2BAAOnB,SAAP;AAVR;AAYH;;;;;;AAGL;;;kBAvBqB6B,W;;IAwBfG,c;;;AACF,4BAAY9B,SAAZ,EAAsB;AAAA;;AAAA,oIACZA,SADY,EACD,CADC,EACE,CADF;;AAElB,cAAKA,SAAL,GAAiBA,SAAjB;AAFkB;AAGrB;;;;mCAES;AACN,gBAAIgB,WAAW,4BAAf;AACA,mBAAOA,SAASf,UAAT,CAAoB,KAAKD,SAAzB,CAAP;AACH;;;;EATwB2B,W;;AAY7B;;;IACMI,U;;;AACF,wBAAY/B,SAAZ,EAAuBE,MAAvB,EAA8B;AAAA;;AAAA,6HACpBF,SADoB,EACT,CADS,EACNE,MADM;;AAE1B,eAAKF,SAAL,GAAiBA,SAAjB;AACA,eAAKE,MAAL,GAAcA,MAAd;AAH0B;AAI7B;;;;mCAES;AACN,gBAAIc,WAAW,4BAAf;AACA,mBAAOA,SAASN,QAAT,CAAkB,KAAKV,SAAvB,EAAkC,KAAKE,MAAvC,CAAP;AACH;;;;EAVoByB,W","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b633aa1aaf1ae323ed52","import Account from './Account.js';\r\n\r\nexport default class BankDatabase{\r\n    constructor(){\r\n        let firstAccount = new Account(12345, 1111, 2000, 2000);\r\n        let secondAccount = new Account(67890, 2222, 3000, 3000);\r\n        this.accounts = [firstAccount, secondAccount];\r\n    }\r\n\r\n    getAccountNumber(acNumber){\r\n        let result;\r\n        for(let i in this.accounts){\r\n            if(this.accounts[i].getAccountNumber() === acNumber){\r\n                result = this.accounts[i];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    authenticateUser(acNumber, pin){\r\n        let account = this.getAccountNumber(acNumber);\r\n        \r\n        if(account !== undefined){\r\n            return account.validatePin(pin);\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    getBalance(accNumber){\r\n        let account = this.getAccountNumber(accNumber);\r\n\r\n        if(account !== undefined){\r\n            return account.getBalance();\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    withdraw(accNumber, amount){\r\n        let account = this.getAccountNumber(accNumber);\r\n        \r\n        if(account !== undefined){\r\n            account.debit(amount);\r\n            return account.getBalance();\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/BankDatabase.js","import ATM from './src/ATM.js';\r\n\r\nmodule.exports = {\r\n    authenticate: ()=>{\r\n        let atm = new ATM();\r\n        return atm.authenticateUser(12345, 1111);    \r\n    },\r\n\r\n    balance: ()=>{\r\n        let atm = new ATM();\r\n        return atm.getBalance(12345);\r\n    },\r\n\r\n    withdraw: ()=>{\r\n        let atm = new ATM();\r\n        return atm.withdraw(12345, 1000);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","import BankDatabase from './BankDatabase.js';\r\nimport Transaction from './Transaction.js';\r\n\r\nexport default class ATM{\r\n    constructor(){\r\n        let _isUserAuthenticated = new WeakMap();\r\n        let _currentAccountNumber = new WeakMap();\r\n\r\n        _isUserAuthenticated.set(this, false);\r\n        _currentAccountNumber.set(this, 0);\r\n    }\r\n\r\n    authenticateUser(accNumber, pin){\r\n        let database = new BankDatabase();\r\n        return database.authenticateUser(accNumber, pin);\r\n    }\r\n\r\n    getBalance(accNumber){\r\n        let transact = new Transaction(accNumber, 1, 0);\r\n        return transact.transact();\r\n    }\r\n\r\n    withdraw(accNumber, amount){\r\n        let transact = new Transaction(accNumber, 2, amount);\r\n        return transact.transact();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ATM.js","export default class Account{\r\n    constructor(accountNumber, pin, availableBalance, totalBalance){\r\n        this._accountNumber = new WeakMap();\r\n        this._pin = new WeakMap();\r\n        this._balance = new WeakMap();\r\n\r\n        this._accountNumber.set(this, accountNumber);\r\n        this._pin.set(this, pin);\r\n        this._balance.set(this, availableBalance);\r\n    }\r\n\r\n    validatePin(userPin){\r\n        return userPin === this._pin.get(this);\r\n    }\r\n\r\n    getBalance(){\r\n        return this._balance.get(this);\r\n    }\r\n    \r\n    debit(amount){\r\n        if(this._balance < amount){\r\n            return 0;\r\n        }else{\r\n            this._balance.set(this, this._balance.get(this) - amount);\r\n        }\r\n    }\r\n\r\n    getAccountNumber(){\r\n        return this._accountNumber.get(this);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Account.js","import BankDatabase from './BankDatabase.js';\r\n\r\nexport default class Transaction{\r\n    constructor(accNumber, type, amount){\r\n        this.accNumber = accNumber;\r\n        this.type = type;\r\n        this.amount = amount;\r\n    }\r\n\r\n    transact(){\r\n        switch(this.type){\r\n            case 1:\r\n                let inquiry = new BalanceInquiry(this.accNumber);\r\n                return inquiry.transact();\r\n                break;\r\n            case 2:\r\n                let withdraw = new Withdrawal(this.accNumber, this.amount);\r\n                return withdraw.transact();\r\n                break;\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n}\r\n\r\n//Balance Inquiry class, returns account balance\r\nclass BalanceInquiry extends Transaction{\r\n    constructor(accNumber){\r\n        super(accNumber, 1, 0);\r\n        this.accNumber = accNumber;\r\n    }\r\n\r\n    transact(){\r\n        let database = new BankDatabase();\r\n        return database.getBalance(this.accNumber);\r\n    }\r\n}\r\n\r\n//Withdrawal class, debits accounts and returns account balance\r\nclass Withdrawal extends Transaction{\r\n    constructor(accNumber, amount){\r\n        super(accNumber, 2, amount);\r\n        this.accNumber = accNumber;\r\n        this.amount = amount;\r\n    }\r\n\r\n    transact(){\r\n        let database = new BankDatabase();\r\n        return database.withdraw(this.accNumber, this.amount);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Transaction.js"],"sourceRoot":""}